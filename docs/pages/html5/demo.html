<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <canvas id="myCanvas" width="600" height="300"></canvas>
  <div id="asd"></div>
  <div>
    <button onclick="stage.clean()">clear</button>
  </div>
  
</body>
</html>
<script src="js/Stage.js"></script>
<script src="js/Loader.js"></script>
<script src="js/SpriteSheet.js"></script>
<script type="text/javascript">
  
  

  let stage = new Stage()
  stage.setCanvas(document.getElementById("myCanvas"))
  stage.setStageSize(600, 300)
  stage.showRuler()
  stage.drawRect(10, 10, 100, 50, {fillStyle: '#0f0'})
  stage.drawCircle(200, 35, 25, {fillStyle: '#f00', strokeStyle: '#000', lineWidth: 5})
  stage.drawText('123456789', 10, 70, {fillStyle: '#f00', font: '30px'})
  stage.drawLine([10,90], [200,100], {strokeStyle:'#00f', lineWidth:10, lineCap: 'round'})
  stage.drawLine([10,120], [200,130], {strokeStyle:'#0f0', lineWidth:5})
  stage.drawPolygon([[0,0], [50,0], [50,50], [100,50], [100,100], [50,100], [50,150], [0,150], [0,100], [-50,100], [-50,50], [0,50]], {strokeStyle:'#0f0', lineWidth:5}, {closePath: true, startPosition: [300, 100]})
  
  
  let loader = new Loader({publicPath:'images/'})
  loader.program((rate, id) => { console.log(rate, id) })
  loader.ready(() => { 
    console.log('资源加载完成') 
    //document.querySelector('#asd').appendChild(loader.get('002.png'))
    //stage.drawImage(loader.get('003.png'), 0, 0, 202, 205, 10, 220, 80, 80)
    let ss = new SpriteSheet(loader.get('marry.png'), [[1,1,1],[1,1,1]], { 
      id: 'marry',
      x: 450, y: 200,
      duration: 100,
      children: [
        {id:'righter', orders: [0,1,2]},
        {id:'lefter', orders: [3,4,5]}
      ]
    })
    setInterval(()=>{
      stage.clean()
      ss.update('lefter');
      ss.draw('lefter');
    },33.3333)
    

  })
  loader.load(['001.png', '002.png', '003.png', 'marry.png'])

</script>

  

  
  
  
  
